\documentclass[12pt,a4paper]{article}

% Font stuff
\usepackage{fontspec}

% lets use roboto because it is open and quite nice, or?
% \setmainfont{Roboto}[
% %   Path           = ../fonts/,
%    Extension      = .ttf,
%    UprightFont    = *-Light,
%    ItalicFont     = *-Italic,
%    BoldFont       = *-Bold,
%    BoldItalicFont = *-BoldItalic,
% ]

% Switch from babel to improve word wrapping etc with Swedish
%\usepackage[swedish]{babel}
\usepackage{polyglossia}
\setmainlanguage{swedish}

\usepackage[left=2.5cm,right=2.5cm,top=1.5cm,bottom=4cm]{geometry}
\setlength{\headheight}{82pt}

%% Important tex cmds
\usepackage{pdftexcmds}
\usepackage{tabularx}
\usepackage{xcolor}
\usepackage{svg}
\usepackage{svgcolor}

\usepackage[document]{ragged2e}
% Mathptmx ruins unicode it seems
%\usepackage{mathptmx}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{graphicx}
\usepackage{varwidth}

% Kommenterar ut 2024-04-18
% \makeatletter
% \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
% \def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
% \makeatother
% % Scale images if necessary, so that they will not overflow the page
% % margins by default, and it is still possible to overwrite the defaults
% % using explicit options in \includegraphics[width, height, ...]{}
% \setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% % Set default figure placement to htbp
% \makeatletter
% \def\fps@figure{htbp}
% \makeatother

\usepackage{lipsum}
\usepackage[hidelinks]{hyperref}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{array}

\usepackage[compact]{titlesec}

%% flindeberg-playground april 2024
\usepackage{amsmath,amssymb}
\usepackage{listings,iftex}

\usepackage{calc} % for calculating minipage widths
\usepackage{microtype,parskip}
\usepackage{luacolor}
\usepackage[soul]{lua-ul}
% Include packages for mermaid etc
\usepackage{framed}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{2pt}\setlength{\parskip}{0pt}\setlength{\partopsep}{2pt}\setlength{\topsep}{2pt}}

\renewcommand\labelitemi{--}

% flindeberg added
%\newcommand{\real}[1]{#1}

\setcounter{secnumdepth}{0}
\setlength{\parskip}{0.5cm}
\setlength{\parindent}{0.0mm}

\setcounter{tocdepth}{1}

\pagestyle{fancy}
\fancyhf{}

\lhead{\raisebox{-0.5\height}{\includegraphics[width=3cm]{../template/tu-logo}}}

\chead{\raisebox{-0.6\height}{\parbox[b][][t]{5.5cm}{%
\begin{center}
\large
$shorttitle$
\end{center}}}}

\rhead{\begin{tabular}{rl}
Beteckning: & $designation$\\
Version: & $version$\\
Datum: & $date$\\
Sida: & \thepage~av~\pageref{LastPage}
\end{tabular}}

\begin{document}

\section*{$title$}

$if(toc)$
\tableofcontents
$endif$

$if(versions)$
\section{Versionshistorik}
\begin{longtable}[]{@{}lll@{}}
\toprule
Version & Beskrivning\tabularnewline%
\midrule
\endhead%
$for(versions)$
$versions.version$ & $versions.description$\tabularnewline%
$endfor$
\bottomrule
\end{longtable}
$endif$

$body$
\end{document}
